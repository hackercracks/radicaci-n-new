{% extends "layout.html" %}
{% load crispy_forms_tags %}

{% block content %}
<a class="text-dark btn btn-info shadow-sm mt-3" style="text-decoration: none;" href="{% url 'files:file-list' %}">
    <!-- &#8592 -->
    <i class="bi-arrow-bar-left"></i>
    volver al archivo
</a>

<!-- <form action="" class="mt-5" method="post">
    {% csrf_token %}
    {{form|crispy}}
    <br>
    <button type="submit">Submit</button>
</form> -->

<section class="container my-5 shadow bg-white text-dark p-2">
    <form class="row g-3 p-3" method="post"">
            {% csrf_token %}
            <div id=" div_id_file_name" class="col-md-6">
        <label for="id_file_name" class="form-label">Radicado</label>
        <input type="text" name="file_name" maxlength="500" value={{current_num}} class="textinput form-control"
            required="" id="id_file_name">
        </div>
        <div class="col-md-6">
            <label for="inputState" class="form-label">Tipo de solicitud </label>
            <select name="file_type" id="id_file_type" class="form-select">
                <option selected>Choose...</option>
                {% for c in form.fields.file_type.queryset %}
                <option value={{c.id}}>{{c.name}}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-6">
            <label for="id_headline" class="form-label">Titular</label>
            <input type="text" name="headline" class="form-control" maxlength="20" required="" id="id_headline">
        </div>
        <div class="col-md-6">
            <label for="id_passport" class="form-label">Cedule/Pasaporte</label>
            <input type="text" name="passport" maxlength="500" class="textinput form-control" required=""
                id="id_passport">
        </div>
        <div class="col-md-6">
            <label class="form-label" for="id_estate_reg">Matricula Inmobiliaria</label>
            <input type="text" class="form-control" name="estate_reg" maxlength="20" required="" id="id_estate_reg">
        </div>
        <div class="col-md-6">
            <label for="id_phone_number" class="form-label">Telefono y/o Celular </label>
            <input type="text" class="form-control" name="phone_number" maxlength="20" required="" id="id_phone_number">
        </div>
        <div class="col-md-6">
            <label for="id_email" class="form-label">Correo Electronico</label>
            <input type="email" class="form-control" name="email" maxlength="254" required="" id="id_email">
        </div>

        <div id="div_id_value_delineation" class="col-md-6">
            <label for="id_value_delineation" class="form-label">Valor del certificado de delineacion </label>
            <input type="text" name="value_delineation" maxlength="60" class="textinput form-control" required=""
                id="id_value_delineation">
        </div>

        <div id="div_id_delineation_date" class="col-md-6">
            <label for="id_delineation_date" class="form-label">Delineation date</label>
            <input type="date" name="delineation_date" class="datetimeinput form-control" id="id_delineation_date">
        </div>
        <div id="div_id_delineation_payment" class="col-md-6">
            <label for="id_delineation_payment" class="form-label requiredField">Delineation payment </label>
            <input type="text" name="delineation_payment" maxlength="40" class="textinput form-control" required=""
                id="id_delineation_payment">
        </div>
        <div id="div_id_consecutive_delineation" class="col-md-6">
            <label for="id_consecutive_delineation" class="form-label requiredField">Consecutive delineation</label>
            <input type="text" name="consecutive_delineation" maxlength="40" class="textinput form-control" required=""
                id="id_consecutive_delineation">
        </div>
        <div id="div_id_visited_by" class="col-md-6">
            <label for="id_visited_by" class="form-label requiredField">Visited by</label>
            <input type="text" name="visited_by" maxlength="70" class="textinput form-control" required=""
                id="id_visited_by">
        </div>

        <!-- <div class="col-md-6"> 
                <label for="id_identify_holder" class="form-label">Identify holder</label> 
                <input type="text" name="identify_holder" maxlength="500" class="textinput form-control" id="id_identify_holder"> 
            </div> -->

        <div class="col-md-4">
            <label for="inputState" class="form-label">State </label>
            <select name="State_type" id="id_State_type" class="form-select" onchange="toggleDiv(this.value)">
                <option value="" selected="">---------</option>
                <option value="1">Asset</option>
                <option value="2">In Progress</option>
                <option value="3">Does Not Apply</option>
            </select>
        </div>
        <div class="col-md-4">
            <label for="id_phone_number" class="form-label">Billboard Delivery Date </label>
            <input type="date" class="form-control" disabled name="delivery_date" id="id_delivery_date">
        </div>
        <div class="col-md-4">
            <label class="form-label" for="id_estate_reg">Date of Notification</label>
            <input type="date" class="form-control" disabled name="notification_date" id="id_notification_date">
        </div>

        <div class="col-12">
            <button type="submit" class="btn w-100 btn-primary">Submit</button>
        </div>
    </form>
</section>

{% block script %}
<script>
    function toggleDiv(value) {
        var id_notification_date = document.getElementById("id_notification_date");
        var id_delivery_date = document.getElementById("id_delivery_date");
        id_notification_date.disabled = value == 2 ? false : true;
        id_notification_date.value = "";
        if (!id_notification_date.disabled) {
            id_notification_date.focus();
        }
        id_delivery_date.disabled = value == 2 ? false : true;
        id_delivery_date.value = "";
        if (!id_delivery_date.disabled) {
            id_delivery_date.focus();
        }
    }
</script>
{% endblock %}
{% endblock content %}